package nl.mcmxcivr.aoc.day5;

public class Application {
  
  public static void main(String[] args) {
    Diagram diagram = Diagram.createFromString(DAY5_INPUT);

    System.out.println(diagram.countOverlappingLinesHorizontalVertical(1));
    System.out.println(diagram.countOverlappingLinesAllDirections(1));
  }
    
    static final String DAY5_INPUT = "692,826 -> 692,915\n" +
    "914,338 -> 524,728\n" +
    "77,505 -> 77,912\n" +
    "31,484 -> 250,703\n" +
    "29,241 -> 313,241\n" +
    "381,70 -> 381,121\n" +
    "699,595 -> 641,595\n" +
    "69,989 -> 517,989\n" +
    "99,755 -> 99,687\n" +
    "205,77 -> 844,77\n" +
    "754,705 -> 754,720\n" +
    "739,884 -> 739,737\n" +
    "504,463 -> 854,113\n" +
    "85,386 -> 416,717\n" +
    "39,456 -> 449,46\n" +
    "900,469 -> 900,462\n" +
    "137,680 -> 137,713\n" +
    "797,792 -> 264,792\n" +
    "814,750 -> 86,22\n" +
    "252,644 -> 491,644\n" +
    "932,162 -> 932,615\n" +
    "42,71 -> 464,71\n" +
    "924,685 -> 755,685\n" +
    "729,610 -> 729,391\n" +
    "921,369 -> 921,649\n" +
    "833,241 -> 101,241\n" +
    "822,459 -> 507,459\n" +
    "739,74 -> 807,142\n" +
    "573,850 -> 573,619\n" +
    "888,60 -> 888,592\n" +
    "133,272 -> 339,66\n" +
    "882,662 -> 665,662\n" +
    "572,499 -> 959,112\n" +
    "631,173 -> 404,173\n" +
    "886,730 -> 470,730\n" +
    "116,435 -> 980,435\n" +
    "795,299 -> 886,390\n" +
    "321,464 -> 321,785\n" +
    "210,477 -> 210,880\n" +
    "215,191 -> 59,347\n" +
    "921,749 -> 363,191\n" +
    "598,962 -> 924,636\n" +
    "105,70 -> 105,411\n" +
    "617,221 -> 617,958\n" +
    "383,403 -> 383,208\n" +
    "763,129 -> 118,129\n" +
    "236,185 -> 236,57\n" +
    "608,592 -> 950,250\n" +
    "872,54 -> 761,54\n" +
    "542,49 -> 542,195\n" +
    "943,104 -> 59,988\n" +
    "800,709 -> 800,416\n" +
    "432,628 -> 947,113\n" +
    "396,169 -> 61,169\n" +
    "982,694 -> 611,323\n" +
    "500,381 -> 803,381\n" +
    "843,803 -> 101,61\n" +
    "529,76 -> 960,76\n" +
    "315,277 -> 315,82\n" +
    "396,916 -> 181,916\n" +
    "902,683 -> 902,713\n" +
    "762,40 -> 441,40\n" +
    "276,488 -> 219,488\n" +
    "584,803 -> 637,803\n" +
    "728,523 -> 728,230\n" +
    "794,60 -> 794,658\n" +
    "866,35 -> 866,142\n" +
    "552,689 -> 552,734\n" +
    "944,681 -> 944,606\n" +
    "203,187 -> 860,844\n" +
    "86,938 -> 957,67\n" +
    "789,703 -> 591,703\n" +
    "230,180 -> 230,458\n" +
    "306,404 -> 975,404\n" +
    "227,892 -> 935,184\n" +
    "220,102 -> 226,102\n" +
    "582,546 -> 645,546\n" +
    "565,466 -> 565,229\n" +
    "676,18 -> 123,571\n" +
    "422,815 -> 422,280\n" +
    "10,819 -> 10,395\n" +
    "307,137 -> 307,550\n" +
    "100,137 -> 903,940\n" +
    "769,399 -> 769,443\n" +
    "739,278 -> 201,816\n" +
    "980,916 -> 464,400\n" +
    "739,191 -> 222,191\n" +
    "467,360 -> 467,435\n" +
    "710,381 -> 126,965\n" +
    "106,483 -> 865,483\n" +
    "109,596 -> 388,596\n" +
    "382,953 -> 180,751\n" +
    "598,119 -> 189,528\n" +
    "205,981 -> 205,240\n" +
    "30,207 -> 742,919\n" +
    "422,672 -> 151,672\n" +
    "800,411 -> 800,490\n" +
    "619,174 -> 619,86\n" +
    "335,629 -> 335,325\n" +
    "143,301 -> 143,971\n" +
    "900,949 -> 900,838\n" +
    "625,201 -> 625,719\n" +
    "497,366 -> 497,200\n" +
    "252,67 -> 801,616\n" +
    "176,55 -> 160,39\n" +
    "292,164 -> 292,275\n" +
    "377,940 -> 320,883\n" +
    "984,985 -> 568,985\n" +
    "714,881 -> 714,71\n" +
    "360,728 -> 175,728\n" +
    "513,318 -> 160,671\n" +
    "192,726 -> 825,726\n" +
    "771,225 -> 771,541\n" +
    "693,424 -> 693,924\n" +
    "873,523 -> 603,523\n" +
    "205,525 -> 205,271\n" +
    "47,368 -> 253,368\n" +
    "631,381 -> 631,594\n" +
    "461,594 -> 461,807\n" +
    "51,220 -> 689,858\n" +
    "462,63 -> 462,175\n" +
    "193,943 -> 418,943\n" +
    "478,896 -> 650,896\n" +
    "160,527 -> 223,527\n" +
    "14,383 -> 812,383\n" +
    "410,830 -> 410,43\n" +
    "121,195 -> 121,211\n" +
    "274,284 -> 868,284\n" +
    "828,665 -> 828,559\n" +
    "478,373 -> 478,500\n" +
    "965,954 -> 73,62\n" +
    "370,867 -> 25,867\n" +
    "128,148 -> 128,566\n" +
    "135,843 -> 919,59\n" +
    "241,655 -> 400,814\n" +
    "133,270 -> 958,270\n" +
    "582,470 -> 582,318\n" +
    "545,624 -> 545,524\n" +
    "80,695 -> 80,306\n" +
    "184,926 -> 659,451\n" +
    "124,133 -> 389,133\n" +
    "395,829 -> 605,829\n" +
    "747,955 -> 237,445\n" +
    "697,62 -> 439,62\n" +
    "741,420 -> 741,215\n" +
    "907,848 -> 75,848\n" +
    "300,846 -> 333,813\n" +
    "278,458 -> 625,805\n" +
    "466,718 -> 466,400\n" +
    "408,974 -> 408,632\n" +
    "671,326 -> 340,326\n" +
    "646,615 -> 503,615\n" +
    "922,717 -> 922,392\n" +
    "302,195 -> 380,195\n" +
    "951,55 -> 28,978\n" +
    "272,196 -> 74,196\n" +
    "978,197 -> 978,538\n" +
    "836,737 -> 883,737\n" +
    "78,449 -> 30,449\n" +
    "489,799 -> 489,906\n" +
    "51,332 -> 51,965\n" +
    "295,173 -> 305,173\n" +
    "858,928 -> 257,327\n" +
    "291,935 -> 657,569\n" +
    "664,430 -> 284,430\n" +
    "731,831 -> 731,939\n" +
    "36,295 -> 36,311\n" +
    "693,696 -> 693,924\n" +
    "948,133 -> 311,770\n" +
    "881,34 -> 702,34\n" +
    "584,414 -> 584,451\n" +
    "52,470 -> 646,470\n" +
    "266,194 -> 527,194\n" +
    "758,207 -> 758,196\n" +
    "859,440 -> 540,440\n" +
    "752,307 -> 752,190\n" +
    "502,140 -> 502,798\n" +
    "391,472 -> 391,301\n" +
    "150,414 -> 835,414\n" +
    "234,842 -> 961,115\n" +
    "757,774 -> 935,952\n" +
    "402,342 -> 667,342\n" +
    "141,72 -> 433,72\n" +
    "154,779 -> 590,779\n" +
    "637,166 -> 311,492\n" +
    "387,330 -> 387,15\n" +
    "23,110 -> 95,110\n" +
    "667,651 -> 607,651\n" +
    "883,318 -> 733,318\n" +
    "449,149 -> 535,149\n" +
    "679,147 -> 522,304\n" +
    "472,99 -> 965,592\n" +
    "386,911 -> 148,673\n" +
    "540,720 -> 194,720\n" +
    "97,37 -> 236,37\n" +
    "319,66 -> 319,94\n" +
    "385,343 -> 385,601\n" +
    "180,799 -> 782,197\n" +
    "69,727 -> 69,686\n" +
    "117,290 -> 723,896\n" +
    "590,944 -> 736,798\n" +
    "174,860 -> 861,173\n" +
    "510,791 -> 488,791\n" +
    "837,261 -> 837,731\n" +
    "373,388 -> 373,471\n" +
    "810,844 -> 810,159\n" +
    "960,610 -> 610,960\n" +
    "786,264 -> 786,539\n" +
    "817,698 -> 572,453\n" +
    "388,113 -> 360,85\n" +
    "982,912 -> 982,720\n" +
    "716,155 -> 177,694\n" +
    "648,727 -> 931,727\n" +
    "764,850 -> 539,850\n" +
    "942,453 -> 942,620\n" +
    "47,746 -> 47,338\n" +
    "626,498 -> 76,498\n" +
    "341,420 -> 524,237\n" +
    "420,235 -> 732,547\n" +
    "598,452 -> 598,981\n" +
    "980,450 -> 980,103\n" +
    "526,652 -> 526,807\n" +
    "63,666 -> 512,217\n" +
    "137,452 -> 43,452\n" +
    "694,752 -> 252,752\n" +
    "652,346 -> 524,346\n" +
    "458,316 -> 640,316\n" +
    "597,503 -> 331,503\n" +
    "983,49 -> 79,953\n" +
    "358,847 -> 492,981\n" +
    "34,176 -> 34,269\n" +
    "169,482 -> 617,930\n" +
    "454,989 -> 454,436\n" +
    "572,292 -> 572,615\n" +
    "623,204 -> 125,702\n" +
    "960,332 -> 738,332\n" +
    "973,42 -> 25,42\n" +
    "349,974 -> 349,328\n" +
    "742,248 -> 111,248\n" +
    "784,766 -> 784,727\n" +
    "44,56 -> 973,985\n" +
    "651,740 -> 541,740\n" +
    "333,344 -> 834,845\n" +
    "769,256 -> 769,234\n" +
    "59,940 -> 832,167\n" +
    "414,500 -> 614,700\n" +
    "369,969 -> 347,969\n" +
    "18,983 -> 983,18\n" +
    "401,927 -> 579,749\n" +
    "752,102 -> 922,102\n" +
    "168,834 -> 442,560\n" +
    "78,213 -> 699,834\n" +
    "463,536 -> 463,222\n" +
    "819,393 -> 377,835\n" +
    "748,776 -> 122,776\n" +
    "668,127 -> 379,416\n" +
    "10,477 -> 477,10\n" +
    "271,474 -> 846,474\n" +
    "26,245 -> 26,720\n" +
    "916,184 -> 535,184\n" +
    "20,947 -> 857,110\n" +
    "185,506 -> 185,887\n" +
    "676,583 -> 676,779\n" +
    "453,650 -> 312,650\n" +
    "975,218 -> 538,655\n" +
    "21,856 -> 803,74\n" +
    "807,284 -> 807,186\n" +
    "803,732 -> 684,851\n" +
    "935,946 -> 573,946\n" +
    "818,904 -> 724,904\n" +
    "663,500 -> 291,872\n" +
    "871,327 -> 958,327\n" +
    "791,919 -> 791,895\n" +
    "635,112 -> 635,813\n" +
    "381,730 -> 585,934\n" +
    "256,759 -> 256,364\n" +
    "530,316 -> 330,316\n" +
    "30,931 -> 744,217\n" +
    "771,921 -> 771,445\n" +
    "169,132 -> 169,77\n" +
    "431,326 -> 91,326\n" +
    "674,537 -> 525,537\n" +
    "598,150 -> 249,150\n" +
    "902,974 -> 902,893\n" +
    "847,52 -> 71,52\n" +
    "944,330 -> 944,861\n" +
    "785,440 -> 785,716\n" +
    "747,200 -> 122,200\n" +
    "90,347 -> 90,270\n" +
    "705,986 -> 192,986\n" +
    "59,822 -> 59,502\n" +
    "554,196 -> 670,196\n" +
    "299,450 -> 299,555\n" +
    "285,793 -> 186,793\n" +
    "418,608 -> 418,297\n" +
    "928,183 -> 924,183\n" +
    "384,950 -> 384,265\n" +
    "979,61 -> 51,989\n" +
    "695,409 -> 695,797\n" +
    "976,988 -> 13,25\n" +
    "777,428 -> 777,558\n" +
    "199,983 -> 199,898\n" +
    "130,677 -> 130,282\n" +
    "128,975 -> 397,706\n" +
    "957,874 -> 358,874\n" +
    "331,121 -> 622,412\n" +
    "630,734 -> 171,734\n" +
    "129,260 -> 868,260\n" +
    "297,10 -> 794,507\n" +
    "610,632 -> 610,347\n" +
    "29,17 -> 989,977\n" +
    "220,663 -> 882,663\n" +
    "62,697 -> 62,465\n" +
    "906,851 -> 906,549\n" +
    "368,485 -> 46,485\n" +
    "20,616 -> 20,638\n" +
    "668,122 -> 953,122\n" +
    "849,140 -> 849,944\n" +
    "29,596 -> 29,859\n" +
    "324,95 -> 468,95\n" +
    "797,428 -> 389,836\n" +
    "258,381 -> 258,411\n" +
    "663,351 -> 73,351\n" +
    "852,436 -> 852,697\n" +
    "474,873 -> 474,53\n" +
    "413,786 -> 413,65\n" +
    "242,40 -> 210,72\n" +
    "173,585 -> 936,585\n" +
    "576,520 -> 576,359\n" +
    "958,376 -> 595,739\n" +
    "478,230 -> 809,230\n" +
    "817,743 -> 841,743\n" +
    "485,658 -> 233,406\n" +
    "937,708 -> 983,662\n" +
    "369,384 -> 340,413\n" +
    "189,277 -> 845,277\n" +
    "298,743 -> 157,743\n" +
    "414,938 -> 317,938\n" +
    "244,869 -> 244,788\n" +
    "280,148 -> 280,818\n" +
    "54,509 -> 146,509\n" +
    "387,579 -> 387,227\n" +
    "692,405 -> 545,405\n" +
    "522,325 -> 547,325\n" +
    "955,334 -> 955,495\n" +
    "575,199 -> 847,199\n" +
    "180,872 -> 917,872\n" +
    "131,816 -> 131,386\n" +
    "153,829 -> 29,829\n" +
    "487,869 -> 487,612\n" +
    "983,335 -> 695,623\n" +
    "119,755 -> 25,755\n" +
    "235,266 -> 938,969\n" +
    "710,965 -> 710,803\n" +
    "237,703 -> 472,938\n" +
    "326,900 -> 326,230\n" +
    "750,373 -> 809,373\n" +
    "910,961 -> 910,822\n" +
    "168,669 -> 168,360\n" +
    "437,284 -> 779,626\n" +
    "497,510 -> 245,762\n" +
    "920,130 -> 606,130\n" +
    "326,936 -> 851,411\n" +
    "985,654 -> 985,205\n" +
    "828,345 -> 828,176\n" +
    "810,192 -> 134,192\n" +
    "433,443 -> 956,443\n" +
    "360,215 -> 676,531\n" +
    "684,17 -> 684,419\n" +
    "430,431 -> 636,637\n" +
    "973,127 -> 973,156\n" +
    "68,893 -> 68,754\n" +
    "136,237 -> 541,237\n" +
    "867,799 -> 282,799\n" +
    "686,983 -> 829,983\n" +
    "92,30 -> 94,32\n" +
    "27,25 -> 977,975\n" +
    "947,262 -> 965,280\n" +
    "18,762 -> 294,762\n" +
    "538,99 -> 538,906\n" +
    "822,302 -> 175,949\n" +
    "17,499 -> 145,499\n" +
    "305,567 -> 171,701\n" +
    "592,389 -> 855,126\n" +
    "672,672 -> 312,312\n" +
    "971,859 -> 280,168\n" +
    "67,156 -> 558,156\n" +
    "710,109 -> 521,109\n" +
    "919,831 -> 705,831\n" +
    "573,975 -> 759,975\n" +
    "593,787 -> 82,276\n" +
    "880,169 -> 888,161\n" +
    "111,251 -> 474,251\n" +
    "61,240 -> 61,312\n" +
    "982,698 -> 982,38\n" +
    "916,759 -> 916,318\n" +
    "793,220 -> 947,220\n" +
    "772,655 -> 501,655\n" +
    "924,76 -> 924,449\n" +
    "955,573 -> 794,573\n" +
    "700,226 -> 739,226\n" +
    "86,147 -> 654,147\n" +
    "547,870 -> 159,482\n" +
    "578,813 -> 241,813\n" +
    "120,533 -> 587,533\n" +
    "160,56 -> 872,768\n" +
    "503,142 -> 916,142\n" +
    "709,248 -> 738,219\n" +
    "419,343 -> 374,343\n" +
    "756,489 -> 894,489\n" +
    "412,659 -> 649,659\n" +
    "159,472 -> 105,526\n" +
    "330,332 -> 330,764\n" +
    "432,292 -> 432,11\n" +
    "366,516 -> 524,674\n" +
    "744,937 -> 344,537\n" +
    "371,880 -> 277,880\n" +
    "773,260 -> 836,323\n" +
    "783,109 -> 595,109\n" +
    "414,463 -> 414,699\n" +
    "200,575 -> 155,575\n" +
    "105,743 -> 965,743\n" +
    "611,778 -> 238,405\n" +
    "986,419 -> 902,419\n" +
    "144,186 -> 251,186\n" +
    "398,491 -> 615,491\n" +
    "184,483 -> 251,483\n" +
    "569,932 -> 569,472\n" +
    "300,889 -> 300,16\n" +
    "402,681 -> 614,469\n" +
    "382,771 -> 382,940\n" +
    "469,206 -> 921,658\n" +
    "91,463 -> 91,578\n" +
    "708,168 -> 708,449\n" +
    "38,89 -> 804,855\n" +
    "958,976 -> 11,29\n" +
    "609,764 -> 609,705\n" +
    "139,161 -> 580,602\n" +
    "564,602 -> 564,869\n" +
    "292,257 -> 292,87\n" +
    "237,729 -> 695,271\n" +
    "331,57 -> 909,635\n" +
    "745,256 -> 745,47\n" +
    "504,914 -> 504,811\n" +
    "536,252 -> 650,252\n" +
    "398,765 -> 854,765\n" +
    "366,343 -> 419,396\n" +
    "10,919 -> 909,20\n" +
    "472,729 -> 11,268\n" +
    "931,299 -> 222,299\n" +
    "164,918 -> 404,918\n" +
    "860,77 -> 860,14\n" +
    "739,166 -> 359,166\n" +
    "323,220 -> 989,886\n" +
    "730,693 -> 248,693\n" +
    "106,56 -> 906,856\n" +
    "725,167 -> 725,45\n" +
    "907,290 -> 230,967\n" +
    "308,728 -> 308,340\n" +
    "731,671 -> 731,310\n" +
    "103,706 -> 584,706\n" +
    "819,42 -> 178,42\n" +
    "926,983 -> 753,983\n" +
    "985,912 -> 985,299\n" +
    "21,267 -> 477,267\n" +
    "355,582 -> 355,805\n" +
    "57,928 -> 663,928\n" +
    "76,523 -> 76,561\n" +
    "623,479 -> 17,479\n" +
    "15,715 -> 848,715\n" +
    "16,677 -> 671,22\n" +
    "307,231 -> 307,187\n" +
    "539,381 -> 179,21\n" +
    "144,101 -> 226,183\n" +
    "386,487 -> 745,487\n" +
    "979,171 -> 886,171\n" +
    "820,551 -> 820,811\n" +
    "205,970 -> 205,891\n" +
    "828,704 -> 136,704\n" +
    "187,338 -> 76,227\n" +
    "776,160 -> 473,463\n" +
    "989,578 -> 749,818\n" +
    "746,136 -> 746,370\n" +
    "659,964 -> 836,964\n" +
    "533,558 -> 907,558\n" +
    "231,786 -> 231,440\n" +
    "600,636 -> 133,636\n" +
    "746,361 -> 746,968\n" +
    "456,111 -> 679,111\n" +
    "283,638 -> 50,638\n" +
    "865,749 -> 753,637\n" +
    "798,33 -> 219,33\n" +
    "224,447 -> 444,667\n" +
    "941,845 -> 941,762\n" +
    "253,501 -> 152,501\n" +
    "90,287 -> 387,584\n" +
    "508,105 -> 532,105\n" +
    "90,128 -> 90,648\n" +
    "69,442 -> 69,675\n" +
    "872,108 -> 18,962";
}
